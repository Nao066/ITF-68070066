<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <p>68070066</p>
        <h2>ITF Website</h2>
        <p>Week 14</p>
    </nav>

  <div class="wrap">
    <div class="main-card">

      <div class="header-area">
        <div class="logo">üè¶</div>
        <div class="titleblock">
          <h1>ITF Simple Bank</h1>
          <p>Welcome to my first HTML + CSS + JS website!</p>
        </div>
        <div style="text-align:right">
        </div>
      </div>

      <div class="top-info">
        <textarea id="topInfo" readonly>
1. Current account balance: 1000.00, Current cash balance: 1000.00

- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (history)
- Deposit: ‡∏¢‡πâ‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å Cash -> Account
- Withdraw: ‡∏¢‡πâ‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å Account -> Cash
        </textarea>
      </div>

      <div class="grid">
        <div>
          <div class="panel">
            <h3>Account Overview</h3>
            <div class="small muted">Account Information</div>
            <div style="margin-top:8px" class="row">
              <div class="field">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ñ‡∏∑‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</label>
                <input type="text" value="Thanyapron Dechphan" readonly>
              </div>
              <div class="field">
                <label>Type</label>
                <input type="text" value="Savings Account" readonly>
              </div>
            </div>

            <div class="pills">
              <div class="pill">Account Balance: <span id="accountBalance" style="float:right; font-weight:800">1000.00</span></div>
              <div class="pill">Cash Balance: <span id="cashBalance" style="float:right; font-weight:800">1000.00</span></div>
            </div>

            <hr style="border:none; border-top:1px solid #eef6ff; margin:14px 0">

            <h3>Balance Information</h3>
            <div class="row" style="margin-top:8px">
              <div class="field">
                <label>Account Balance </label>
                <input id="inputAccount" type="number" min="0" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1500.00">
              </div>
              <div class="field">
                <label>Cash Balance </label>
                <input id="inputCash" type="number" min="0" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 800.00">
              </div>
            </div>
            <div class="controls" style="margin-top:10px">
              <button class="btn-primary" id="applyBalances">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≠‡∏î</button>
              <div class="small muted">‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Account ‡πÅ‡∏•‡∏∞ Cash ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å</div>
            </div>

            <hr style="border:none; border-top:1px solid #eef6ff; margin:14px 10px">

            <h3>Bank Operation</h3>
            <div style="margin-top:8px" class="row">
              <div class="field">
                <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label>
                <select id="opSelect">
                  <option value="deposit">Deposit</option>
                  <option value="withdraw">Withdraw</option>
                </select>
              </div>
              <div class="field">
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
                <input id="amount" type="number" min="0" step="0.01" placeholder="‡πÄ‡∏ä‡πà‡∏ô 200.00">
              </div>
            </div>
            <div class="controls" style="margin-top:12px">
              <button class="btn-primary" id="proceed">Proceed</button>
              <button class="btn-dep" id="quickDeposit">Deposit</button>
              <button class="btn-wd" id="quickWithdraw">Withdraw</button>
              <button class="btn-ghost" id="clearAmount">‡∏•‡πâ‡∏≤‡∏á</button>
            </div>

            <p class="small muted" style="margin-top:10px">
              * Deposit = Cash ‚Üí Account, Withdraw = Account ‚Üí Cash. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏¢‡∏≠‡∏î‡∏ï‡∏¥‡∏î‡∏•‡∏ö
            </p>

            <hr style="border:none; border-top:1px solid #eef6ff; margin:14px 10px">

            <h3>Transaction History</h3>
            <textarea id="history" readonly style="width:100%; min-height:120px; border-radius:8px; padding:10px; margin-top:8px; border:1px solid #dbe7f7;"></textarea>
            <div class="controls" style="margin-top:8px">
              <button class="btn-ghost" id="clearHistory">‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
              <div class="small muted">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå (localStorage)</div>
            </div>
          </div>
        </div>

        <aside class="right-card panel">
          <h3>Financial Tools</h3>
          <div class="small muted">Currency Converter</div>

          <div style="margin-top:10px">
            <label class="small">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
            <input id="curAmount" type="number" step="0.01" min="0" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100.00">
          </div>
          <div style="margin-top:10px">
            <label class="small">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (1 USD = ? THB)</label>
            <input id="curRate" type="number" step="0.0001" min="0" value="36.00">
          </div>

          <div style="margin-top:10px">
            <label class="small">‡∏à‡∏≤‡∏Å</label>
            <select id="fromCur">
              <option value="USD">USD</option>
              <option value="THB">THB</option>
            </select>
          </div>
          <div style="margin-top:10px">
            <label class="small">‡πÄ‡∏õ‡πá‡∏ô</label>
            <select id="toCur">
              <option value="THB">THB</option>
              <option value="USD">USD</option>
            </select>
          </div>

          <div class="controls" style="margin-top:12px">
            <button class="btn-primary" id="convertBtn">Convert</button>
            <button class="btn-ghost" id="swapBtn">‡∏™‡∏•‡∏±‡∏ö</button>
          </div>

          <div style="margin-top:12px" class="pill" id="curResult">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: -</div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    let account = 1000.00;
    let cash = 1000.00;
    const fmt = (n)=> Number(n).toLocaleString('en-US',{minimumFractionDigits:2, maximumFractionDigits:2});
    const now = ()=> new Date().toLocaleString();

    const topInfo = document.getElementById('topInfo');
    const accEl = document.getElementById('accountBalance');
    const cashEl = document.getElementById('cashBalance');
    const historyEl = document.getElementById('history');

    const inputAccount = document.getElementById('inputAccount');
    const inputCash = document.getElementById('inputCash');
    const applyBalances = document.getElementById('applyBalances');

    const opSelect = document.getElementById('opSelect');
    const amount = document.getElementById('amount');
    const proceed = document.getElementById('proceed');
    const quickDeposit = document.getElementById('quickDeposit');
    const quickWithdraw = document.getElementById('quickWithdraw');
    const clearAmount = document.getElementById('clearAmount');

    const clearHistory = document.getElementById('clearHistory');

    const curAmount = document.getElementById('curAmount');
    const curRate = document.getElementById('curRate');
    const fromCur = document.getElementById('fromCur');
    const toCur = document.getElementById('toCur');
    const convertBtn = document.getElementById('convertBtn');
    const swapBtn = document.getElementById('swapBtn');
    const curResult = document.getElementById('curResult');

    function mustNumber(v){
      if(v==="" || v===null || isNaN(+v)) return null;
      return Math.max(0, +(+v).toFixed(2));
    }
    function refreshUI(){
      accEl.textContent = fmt(account);
      cashEl.textContent = fmt(cash);
      const firstLine = `1. Current account balance: ${fmt(account)}, Current cash balance: ${fmt(cash)}`;
      const existing = historyEl.value ? historyEl.value : '';
      topInfo.value = firstLine + "\n\n" + "- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á (Transaction History)";
    }

    function saveHistory(){
      localStorage.setItem('itf_bank_history', historyEl.value);
    }
    function loadHistory(){
      const h = localStorage.getItem('itf_bank_history');
      if(h) historyEl.value = h;
      else historyEl.value = '';
    }
    function log(msg){
      const text = `[${now()}] ${msg}\n` + historyEl.value;
      historyEl.value = text;
      saveHistory();
    }

    loadHistory();
    refreshUI();
    log(`‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö | Account = ${fmt(account)} THB, Cash = ${fmt(cash)} THB`);

    applyBalances.addEventListener('click', ()=>{
      const a = mustNumber(inputAccount.value);
      const c = mustNumber(inputCash.value);
      if(a===null || c===null){
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á');
        return;
      }
      account = a; cash = c;
      refreshUI();
      log(`‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà | Account ‚Üí ${fmt(a)}, Cash ‚Üí ${fmt(c)}`);
      inputAccount.value = ""; inputCash.value = "";
    });

    function doDeposit(amt){
      if(amt<=0){ alert('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0'); return; }
      if(cash < amt){ alert('‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏≤‡∏Å'); return; }
      cash -= amt; account += amt; refreshUI();
      log(`Deposit ${fmt(amt)} THB | Cash ‚Üí ${fmt(cash)}, Account ‚Üí ${fmt(account)}`);
    }
    function doWithdraw(amt){
      if(amt<=0){ alert('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0'); return; }
      if(account < amt){ alert('‡∏¢‡∏≠‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ñ‡∏≠‡∏ô'); return; }
      account -= amt; cash += amt; refreshUI();
      log(`Withdraw ${fmt(amt)} THB | Account ‚Üí ${fmt(account)}, Cash ‚Üí ${fmt(cash)}`);
    }

    proceed.addEventListener('click', ()=>{
      const amt = mustNumber(amount.value);
      if(amt===null){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç'); return; }
      const op = opSelect.value;
      op === 'deposit' ? doDeposit(amt) : doWithdraw(amt);
    });
    quickDeposit.addEventListener('click', ()=>{
      const amt = mustNumber(amount.value);
      if(amt===null){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç'); return; }
      doDeposit(amt);
    });
    quickWithdraw.addEventListener('click', ()=>{
      const amt = mustNumber(amount.value);
      if(amt===null){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç'); return; }
      doWithdraw(amt);
    });
    clearAmount.addEventListener('click', ()=> amount.value = '');

    clearHistory.addEventListener('click', ()=>{
      if(confirm('‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')){
        historyEl.value = ''; saveHistory(); alert('‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢');
      }
    });

    function convert(){
      const amt = mustNumber(curAmount.value);
      const rate = mustNumber(curRate.value);
      if(amt===null || rate===null || rate===0){
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); return;
      }
      let result=0;
      if(fromCur.value==='USD' && toCur.value==='THB') result = amt * rate;
      else if(fromCur.value==='THB' && toCur.value==='USD') result = amt / rate;
      else result = amt;
      curResult.textContent = `‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ${fmt(result)} ${toCur.value}`;
    }
    convertBtn.addEventListener('click', convert);
    swapBtn.addEventListener('click', ()=>{
      const a = fromCur.value; fromCur.value = toCur.value; toCur.value = a; convert();
    });
  </script>
</body>
</html>
